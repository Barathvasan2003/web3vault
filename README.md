# ğŸ¥ Web3Vault - Decentralized Medical Records System# ğŸ¥ Web3 Medical Vault - Decentralized Healthcare Records



> **A privacy-first, blockchain-verified medical vault with IPFS storage and AI-powered prescription analysis**> **Your Health Data, Your Control** - Secure, Private, and Permanent Medical Records Storage  

> Built with Next.js, IPFS, Polkadot Blockchain, and Zero-Knowledge Encryption

[![Live Demo](https://img.shields.io/badge/Live-Demo-brightgreen)](https://web3vault-production.up.railway.app)

[![GitHub](https://img.shields.io/badge/GitHub-Repository-blue)](https://github.com/Barathvasan2003/web3vault)[![Live Demo](https://img.shields.io/badge/Live%20Demo-Production-success)](https://web3vault-production.up.railway.app)

[![Status](https://img.shields.io/badge/status-production%20ready-success)](https://web3vault-production.up.railway.app)

---[![Blockchain](https://img.shields.io/badge/blockchain-Polkadot-E6007A)](https://polkadot.network/)

[![Storage](https://img.shields.io/badge/storage-IPFS%20Pinata-blue)](https://pinata.cloud/)

## ğŸ¯ What is Web3Vault?[![AI](https://img.shields.io/badge/AI-Gemini%20Vision-purple)](https://ai.google.dev/)

[![Next.js](https://img.shields.io/badge/Next.js-14.1-black)](https://nextjs.org/)

Web3Vault is a complete decentralized medical records system that combines:[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)

- **ğŸ” Client-Side Encryption** (AES-256-GCM) - Files encrypted in your browser, never sent unencrypted[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

- **ğŸŒ IPFS Storage** (Pinata) - Decentralized permanent storage, no central servers

- **â›“ï¸ Blockchain Backup** (Polkadot) - Keys stored on-chain for cross-device access---

- **ğŸ¤– AI Analysis** (Gemini Vision) - Automatic prescription OCR and medical data extraction

## ğŸš€ Live Production

**Key Innovation**: Upload on laptop â†’ Access on phone. Your medical records sync across all your devices via blockchain, while staying fully encrypted and decentralized.

**App URL**: [https://web3vault-production.up.railway.app](https://web3vault-production.up.railway.app)

---

**Try it now:**

## ğŸš€ Quick Start1. Install [Polkadot.js Extension](https://polkadot.js.org/extension/)

2. Visit the live app

### Prerequisites3. Connect your wallet

- [Polkadot.js Browser Extension](https://polkadot.js.org/extension/)4. Upload and encrypt your first medical file!

- [Pinata API Key](https://pinata.cloud) (for IPFS uploads)

- [Google Gemini API Key](https://ai.google.dev) (for AI OCR)---



### Installation## ğŸ¯ What We Built



1. **Clone the repository**A **complete decentralized medical vault** where you can:

```bash

git clone https://github.com/Barathvasan2003/web3vault.gitâœ… **Own Your Data** - Your files, your keys, your control  

cd web3vault/webvault3âœ… **Encrypt Everything** - Military-grade AES-256-GCM encryption  

```âœ… **Store Permanently** - IPFS distributed storage  

âœ… **Access Anywhere** - Blockchain-based cross-device sync  

2. **Install dependencies**âœ… **Share Easily** - One-click secure share links  

```bashâœ… **AI-Powered** - Automatic prescription data extraction

npm install

```



3. **Configure environment variables**## ğŸ“‹ Table of Contents## âœ¨ Core Features



Create `.env.local` with:

```env

# Pinata IPFS Configuration- [Overview](#-overview)### 1ï¸âƒ£ **Decentralized Identity & Login**

NEXT_PUBLIC_PINATA_JWT=your_pinata_jwt_token

- [Problem Statement](#-problem-statement)- ğŸ”‘ Login with Polkadot wallet (no email/password)

# Google Gemini AI Configuration

NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_api_key- [Our Solution](#-our-solution)- ğŸ†” Decentralized Identity (DID)



# Polkadot Configuration (optional - defaults to wss://rpc.polkadot.io)- [Key Features](#-key-features)- ğŸ”„ Multi-device secure access

NEXT_PUBLIC_POLKADOT_RPC=wss://rpc.polkadot.io

```- [Technology Stack](#-technology-stack)- âœ… **You own your identity**



**How to get API keys:**- [Polkadot Integration](#-polkadot-integration)

- **Pinata JWT**: Sign up at [pinata.cloud](https://pinata.cloud) â†’ API Keys â†’ Create New Key â†’ Copy JWT

- **Gemini API**: Visit [ai.google.dev](https://ai.google.dev) â†’ Get API Key â†’ Create in new project- [Security](#-security)### 2ï¸âƒ£ **Intelligent Medical Records**



4. **Run development server**- [Getting Started](#-getting-started)- ğŸ“„ Upload prescriptions, reports, medical PDFs

```bash

npm run dev- [Usage Guide](#-usage-guide)- ğŸ¤– **AI OCR** - Extract text from images

```

- [Demo Video](#-demo-video)- ğŸ§  **Medical NLP** - Understand prescriptions & medications

Open [http://localhost:3000](http://localhost:3000)

- [Hackathon Submission](#-hackathon-submission)- ğŸ“ Auto-categorize by type/date/doctor

5. **Connect Polkadot wallet**

- Install [Polkadot.js Extension](https://polkadot.js.org/extension/)- [Future Roadmap](#-future-roadmap)- ğŸ’Š Extract medication, dosage, diagnosis

- Create or import wallet

- Connect to Web3Vault- [License](#-license)



---### 3ï¸âƒ£ **Decentralized Secure Storage**



## ğŸ“‹ Features---- ğŸ”’ **Client-side AES-256 encryption**



### âœ… Core Functionality- ğŸŒ Store on **IPFS + Crust Network**

- **ğŸ”’ Client-Side Encryption**: AES-256-GCM encryption in browser (files never leave unencrypted)

- **ğŸ“¤ IPFS Upload**: Permanent decentralized storage via Pinata## ğŸ¯ Overview- â›“ï¸ File hash + proof on **Polkadot blockchain**

- **â›“ï¸ Blockchain Metadata**: File metadata stored on Polkadot for cross-device sync

- **ğŸ“¥ Multi-Device Access**: Upload on one device, access from any device with same wallet- ğŸ” HIPAA-level security without servers

- **ğŸ”— Secure Sharing**: Generate permanent share links with encryption keys

- **ğŸ—‘ï¸ Permanent Deletion**: Delete from localStorage + IPFS + blockchain**Web3Vault** is a decentralized medical records management system built on the Polkadot ecosystem. It empowers patients to take full ownership of their healthcare data through blockchain-based identity management, military-grade encryption, and decentralized storage.

- **ğŸ¤– AI OCR**: Gemini Vision API extracts medicine names, dosage, doctor info from prescriptions

### 4ï¸âƒ£ **Smart Access Control**

### ğŸ¨ User Interface

- **ğŸ“Š Dashboard**: File count, total size, storage statistics### Why Web3Vault?- ğŸ”— Share with doctors via secure token

- **ğŸ“ File List**: Upload, download, share, delete, view AI data

- **ğŸ–¼ï¸ Image Preview**: View medical documents before download- â° Set expiry time or one-view access

- **ğŸ’‰ AI Data Display**: Extracted prescription information with edit capability

- **ğŸ” Blockchain Info**: Active blockchain backup indicator- **ğŸ‘¤ Patient-Centric**: Patients own and control their medical data- âŒ Revoke access instantly



---- **ğŸ” Privacy-First**: End-to-end encryption with AES-256-GCM- ğŸ“Š **On-chain access logs** (who, when, what)



## ğŸ—ï¸ Architecture- **ğŸŒ Decentralized**: IPFS storage + Polkadot blockchain



### How It Works- **ğŸ¤– AI-Powered**: Automatic extraction of prescription data### 5ï¸âƒ£ **Emergency Medical Card**



```- **ğŸ†˜ Emergency Access**: Controlled sharing for emergency situations- ğŸ†˜ QR code on dashboard

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚                    YOUR BROWSER (Client-Side)                   â”‚- **ğŸ”— Interoperable**: Works across healthcare providers- ğŸ©¸ Blood type, allergies, emergency contact

â”‚                                                                 â”‚

â”‚  1. Select file (prescription.png)                              â”‚- âš¡ **Life-saving in emergencies**

â”‚  2. Generate random AES-256 key + IV                            â”‚

â”‚  3. Encrypt file locally â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚---- ğŸ“± Scannable by any phone

â”‚  4. Upload encrypted file to IPFS                        â”‚     â”‚

â”‚  5. Store key on blockchain                              â”‚     â”‚

â”‚                                                          â”‚     â”‚

â”‚  ğŸ”‘ Key never leaves your control!                       â”‚     â”‚## ğŸ’¡ Problem Statement### 6ï¸âƒ£ **AI Health Assistant**

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜

                          â”‚                                â”‚- ğŸ’¬ Understand prescription text

                          â†“                                â”‚

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚### Current Healthcare Data Challenges:- ğŸ’Š Extract medications & dosage

        â”‚    IPFS (Pinata Gateway)    â”‚                    â”‚

        â”‚                             â”‚                    â”‚- ğŸ“‹ Generate health summary

        â”‚  âœ… Encrypted file          â”‚                    â”‚

        â”‚  âŒ NO encryption key       â”‚                    â”‚1. **ğŸ¥ Centralized Control**: Patients don't own their medical records- ğŸ” Smart search across records

        â”‚  ğŸ“¦ CID: QmXxx...           â”‚                    â”‚

        â”‚                             â”‚                    â”‚2. **ğŸ”“ Privacy Risks**: Centralized databases vulnerable to breaches

        â”‚  File is useless without    â”‚                    â”‚

        â”‚  the key from blockchain!   â”‚                    â”‚3. **ğŸš« Limited Access**: Difficult to share records across providers---

        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚

                          â”‚                                â”‚4. **ğŸ“„ Paper-Based**: Many regions still rely on physical prescriptions

                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                       â†“5. **ğŸ’° Vendor Lock-in**: Healthcare systems don't interoperate## ğŸ› ï¸ Technology Stack

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

                          â”‚  Polkadot Blockchain     â”‚6. **â° Emergency Delays**: Critical data unavailable when needed

                          â”‚                          â”‚

                          â”‚  âœ… CID (IPFS address)   â”‚### ğŸ¨ Frontend

                          â”‚  âœ… Encryption key       â”‚

                          â”‚  âœ… IV (init vector)     â”‚### Real-World Impact:| Category | Technology |

                          â”‚  âœ… File metadata        â”‚

                          â”‚  âœ… Owner wallet address â”‚|----------|-----------|

                          â”‚                          â”‚

                          â”‚  Enables cross-device    â”‚- **150 million+** patient records breached globally (2024)| Framework | **Next.js 14** (App Router) |

                          â”‚  access & key backup     â”‚

                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜- **Average cost** of healthcare data breach: $10.93M| UI | **TailwindCSS** + **ShadCN** |

```

- **Patients spend 8+ hours** annually managing medical records| State | **Zustand** |

### Why Blockchain?

- **Emergency room delays** due to missing medical history| Wallet | **Polkadot.js** + Talisman |

**Problem without blockchain:**

- âŒ localStorage only works on one device| Upload | **React Dropzone** |

- âŒ Clear browser cache â†’ lose all files

- âŒ Can't access from phone/tablet---| QR Code | **qrcode.react** |

- âŒ Lose encryption keys â†’ files locked forever



**Solution with Polkadot blockchain:**

- âœ… Upload on desktop â†’ access on mobile## âœ¨ Our Solution### ğŸ§  AI Layer

- âœ… Keys permanently backed up on-chain

- âœ… Query blockchain â†’ sync files across devices| Feature | Technology |

- âœ… Immutable audit trail for compliance

- âœ… True decentralization (no central server)Web3Vault leverages **Polkadot's decentralized infrastructure** to create a patient-controlled medical records system:|---------|-----------|



### Security Model| OCR | **Tesseract.js** (client-side) + Google Vision |



1. **Encryption Keys**: Generated client-side, never sent to any server### Core Principles:| Medical AI | **GPT-4o-mini** API |

2. **File Storage**: IPFS stores encrypted files, useless without keys

3. **Key Storage**: Blockchain stores keys, but you need wallet to access| Prescription Parsing | Medical NLP + LLM |

4. **Share Links**: Keys in URL (permanent sharing, send via secure channel)

5. **Access Control**: Wallet signature required for file operations1. **ğŸ”‘ Self-Sovereign Identity**| Text Understanding | OpenAI Embeddings |



**Note**: Share links contain encryption keys in URL. Share only with trusted recipients via secure channels (encrypted messaging, etc.)   - Polkadot wallet = your medical identity



---   - No centralized authentication### ğŸ”— Blockchain (Polkadot Ecosystem)



## ğŸ’» Tech Stack   - You control access permissions| Component | Technology |



### Frontend|-----------|-----------|

- **Next.js 14** - React framework with App Router

- **TypeScript** - Type safety2. **ğŸ” Zero-Knowledge Privacy**| Identity | **Polkadot DID** + Wallet |

- **Tailwind CSS** - Styling

   - Files encrypted before upload| Smart Contracts | **ink!** contracts |

### Encryption

- **Web Crypto API** - Browser-native AES-256-GCM encryption   - Only you have decryption keys| Access Control | Substrate runtime |

- **256-bit keys** - Military-grade security

- **12-byte IV** - Unique per file   - Healthcare providers never see unencrypted data| Event Logging | Substrate events |



### Storage| Storage Proofs | On-chain file hashes |

- **IPFS (Pinata)** - Decentralized file storage

- **Multi-gateway fallback** - Pinata â†’ ipfs.io â†’ Cloudflare IPFS3. **ğŸŒ Decentralized Storage**

- **Content addressing** - Files referenced by CID (hash)

   - IPFS for file storage### ğŸ—„ï¸ Decentralized Storage

### Blockchain

- **Polkadot** - Layer-1 blockchain for metadata   - Polkadot blockchain for metadata| Purpose | Technology |

- **system.remark()** - Store JSON metadata in transactions

- **Polkadot.js** - Wallet integration   - No single point of failure|---------|-----------|



### AI| Primary | **IPFS + Crust Network** |

- **Google Gemini Vision API** - Prescription OCR

- **Medical NLP** - Extract structured data from images4. **ğŸ¤ Controlled Sharing**| Backup | Web3.Storage |



### Deployment   - Time-based access control| Metadata | Lightweight Node.js API |

- **GitHub** - Source control

- **Railway** - Hosting with auto-deploy   - One-time, temporary, or permanent links



---   - Revocable permissions### ğŸ” Security



## ğŸ“ Project Structure| Feature | Technology |



```---|---------|-----------|

webvault3/

â”œâ”€â”€ app/| Encryption | **AES-256-GCM** + RSA |

â”‚   â”œâ”€â”€ page.tsx              # Home/Dashboard page

â”‚   â”œâ”€â”€ view/page.tsx         # View shared files page## ğŸš€ Key Features| Key Management | Client-side (Web Crypto API) |

â”‚   â””â”€â”€ api/files/[cid]/      # IPFS file proxy API

â”‚| Identity | JWT + DID |

â”œâ”€â”€ components/

â”‚   â”œâ”€â”€ dashboard/### 1. **Polkadot Wallet Integration** ğŸ”—| Zero-Knowledge | zk-SNARK concepts |

â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx     # Main dashboard with stats

â”‚   â”‚   â”œâ”€â”€ FileUpload.tsx    # File upload with AI OCR- Connect with any Polkadot-compatible wallet

â”‚   â”‚   â”œâ”€â”€ FileList.tsx      # File list with actions

â”‚   â”‚   â””â”€â”€ EmergencyCard.tsx # Emergency access info- Wallet-based identity management### ğŸ“¦ Backend (Minimal)

â”‚   â””â”€â”€ wallet/

â”‚       â””â”€â”€ WalletConnect.tsx # Polkadot wallet connection- Transaction signing for blockchain operations| Use Case | Technology |

â”‚

â”œâ”€â”€ lib/- Future: Wallet-derived encryption keys|----------|-----------|

â”‚   â”œâ”€â”€ encryption/

â”‚   â”‚   â”œâ”€â”€ medical-encryption.ts  # AES-256-GCM encryption/decryption| AI Gateway | **FastAPI** / Node.js |

â”‚   â”‚   â””â”€â”€ key-backup.ts          # Key import/export utilities

â”‚   â”‚### 2. **Military-Grade Encryption** ğŸ”| Metadata | **Supabase** (free tier) |

â”‚   â”œâ”€â”€ ipfs/

â”‚   â”‚   â”œâ”€â”€ ipfs-client.ts         # Pinata API client- **AES-256-GCM** encryption (HIPAA/FIPS compliant)| Cache | Redis / Upstash |

â”‚   â”‚   â”œâ”€â”€ ipfs-upload-download.ts # Upload/download with multi-gateway

â”‚   â”‚   â””â”€â”€ ipfs-client-mock.ts    # Mock client for testing- Client-side encryption (data never exposed)| Push Notifications | Firebase Cloud Messaging |

â”‚   â”‚

â”‚   â”œâ”€â”€ polkadot/- Unique keys per file

â”‚   â”‚   â””â”€â”€ blockchain.ts          # Blockchain metadata storage

â”‚   â”‚- Authenticated encryption (tamper-proof)---

â”‚   â”œâ”€â”€ sharing/

â”‚   â”‚   â”œâ”€â”€ simple-share.ts        # Generate share links

â”‚   â”‚   â””â”€â”€ secure-share.ts        # Legacy secure sharing

â”‚   â”‚### 3. **AI-Powered Data Extraction** ğŸ¤–## ğŸ“ Project Structure

â”‚   â”œâ”€â”€ ai/

â”‚   â”‚   â”œâ”€â”€ gemini-ocr.ts          # Gemini Vision API integration- **Gemini AI integration** for prescription analysis

â”‚   â”‚   â”œâ”€â”€ medical-nlp.ts         # Medical data extraction

â”‚   â”‚   â””â”€â”€ ocr-service.ts         # OCR service wrapper- Automatic extraction of:```

â”‚   â”‚

â”‚   â”œâ”€â”€ storage/  - Doctor informationWebVault3/

â”‚   â”‚   â””â”€â”€ file-registry.ts       # localStorage file registry

â”‚   â”‚  - Patient detailsâ”œâ”€â”€ app/                        # Next.js 14 App Router

â”‚   â””â”€â”€ access/

â”‚       â””â”€â”€ access-control.ts      # ACL management  - Diagnosisâ”‚   â”œâ”€â”€ (auth)/                # Authentication pages

â”‚

â”œâ”€â”€ package.json              # Dependencies  - Medications (name, dosage, frequency)â”‚   â”œâ”€â”€ dashboard/             # Main dashboard

â”œâ”€â”€ next.config.js            # Next.js configuration

â”œâ”€â”€ tailwind.config.js        # Tailwind CSS config  - Prescription datesâ”‚   â”œâ”€â”€ records/               # Medical records

â””â”€â”€ tsconfig.json             # TypeScript config

```- Editable AI results (manual corrections)â”‚   â”œâ”€â”€ share/                 # Access sharing



---â”‚   â””â”€â”€ emergency/             # Emergency card



## ğŸ”§ Key Functions### 4. **Decentralized Storage** ğŸŒâ”œâ”€â”€ components/                 # React components



### Encryption (`lib/encryption/medical-encryption.ts`)- **IPFS** for permanent file storageâ”‚   â”œâ”€â”€ ui/                    # ShadCN components

```typescript

// Generate unique AES-256 key for each file- Content-addressed (CID-based)â”‚   â”œâ”€â”€ medical/               # Medical-specific

generateEncryptionKey(): Promise<CryptoKey>

- Distributed across nodesâ”‚   â”œâ”€â”€ wallet/                # Wallet integration

// Encrypt file with AES-256-GCM

encryptMedicalFile(file: File, key: CryptoKey, iv: Uint8Array): Promise<ArrayBuffer>- Future: Crust Network integrationâ”‚   â””â”€â”€ ai/                    # AI features



// Decrypt fileâ”œâ”€â”€ contracts/                  # ink! Smart Contracts

decryptMedicalFile(encryptedData: ArrayBuffer, key: CryptoKey, iv: Uint8Array): Promise<ArrayBuffer>

### 5. **Flexible Sharing** ğŸ”—â”‚   â”œâ”€â”€ access-control/        # Permission management

// Export key to base64 for storage

exportKey(key: CryptoKey): Promise<string>- **One-Time Access**: Self-destruct after viewingâ”‚   â”œâ”€â”€ file-registry/         # File metadata



// Import key from base64- **24-Hour Access**: Temporary emergency sharingâ”‚   â””â”€â”€ audit-log/             # Access logging

importKey(base64Key: string): Promise<CryptoKey>

```- **Custom Date Range**: Specific time windowsâ”œâ”€â”€ ai-engine/                  # AI & OCR Services



### IPFS (`lib/ipfs/ipfs-upload-download.ts`)- **Permanent Links**: Long-term access controlâ”‚   â”œâ”€â”€ ocr/                   # Tesseract + Vision API

```typescript

// Upload encrypted file to IPFS via Pinataâ”‚   â”œâ”€â”€ medical-nlp/           # Prescription parsing

uploadToIPFS(file: Blob, fileName: string, fileType: string): Promise<string>

### 6. **Emergency Access** ğŸ†˜â”‚   â””â”€â”€ embeddings/            # Vector search

// Download file with multi-gateway fallback

downloadFromIPFS(cid: string, onProgress?: (progress: number) => void): Promise<ArrayBuffer>- Dedicated emergency card featureâ”œâ”€â”€ lib/                        # Utilities



// Get file metadata from Pinata- Quick sharing with first respondersâ”‚   â”œâ”€â”€ encryption/            # AES-256 encryption

getFileMetadataFromPinata(cid: string): Promise<{ fileName: string; fileType: string }>

- Pre-authorized trusted contactsâ”‚   â”œâ”€â”€ ipfs/                  # IPFS + Crust

// Permanently delete from IPFS

unpinFile(cid: string): Promise<void>- Critical medical information always accessibleâ”‚   â”œâ”€â”€ polkadot/              # Blockchain utils

```

â”‚   â””â”€â”€ ai/                    # AI integrations

### Blockchain (`lib/polkadot/blockchain.ts`)

```typescript### 7. **Record Management** ğŸ“‚â”œâ”€â”€ storage/                    # IPFS scripts

// Connect to Polkadot and get wallet accounts

getWalletAccounts(): Promise<InjectedAccountWithMeta[]>- Upload prescriptions, lab reports, X-raysâ”œâ”€â”€ docs/                       # Documentation



// Register file metadata on-chain- Download and decrypt anytimeâ”‚   â”œâ”€â”€ architecture.md        # System design

registerFileOnChain(

  account: InjectedAccountWithMeta,- Delete records (remove from your vault)â”‚   â”œâ”€â”€ deployment.md          # Deploy guide

  cid: string,

  fileName: string,- View full medical history timelineâ”‚   â””â”€â”€ demo-script.md         # Video demo

  encryptionKey: string,

  iv: number[]â””â”€â”€ public/                     # Static assets

): Promise<string>

---```

// Query blockchain for user's files

getFilesFromBlockchain(walletAddress: string): Promise<FileMetadata[]>

```

## ğŸ›  Technology Stack---

### AI OCR (`lib/ai/gemini-ocr.ts`)

```typescript

// Extract prescription data from image

extractPrescriptionData(imageData: string): Promise<PrescriptionData>### Frontend:## ğŸš€ Quick Start



// Response includes:- **Next.js 14** - React framework

// - medicines: { name, dosage, frequency, duration }[]

// - patientInfo: { name, age, gender }- **TypeScript** - Type safety### Prerequisites

// - doctorInfo: { name, specialization, hospital }

// - diagnosis: string- **TailwindCSS** - Styling

// - instructions: string

```- **React Hooks** - State management```powershell



---# 1. Install Node.js (v18+)



## ğŸ¬ Demo Flow### Blockchain:node --version



### 1. Upload Medical File- **Polkadot.js** - Wallet connectivity

1. Click **"ğŸ“¤ Upload Medical File"**

2. Select prescription/medical report- **Polkadot API** - Blockchain interactions# 2. Install Polkadot.js Wallet

3. Wait for AI analysis (automatic OCR)

4. File encrypts â†’ uploads to IPFS â†’ stores key on blockchain- **Substrate** - Future custom pallets# https://polkadot.js.org/extension/

5. âœ… File appears in dashboard



### 2. Access from Another Device

1. Open Web3Vault on phone/tablet### Storage:# 3. Get OpenAI API key (for AI features)

2. Connect **same Polkadot wallet**

3. Files automatically sync from blockchain- **IPFS** - Decentralized file storage# https://platform.openai.com/api-keys

4. Download and decrypt any file

- **IPFS HTTP Client** - File upload/download```

### 3. Share with Doctor

1. Click **"Share"** on a file- **LocalStorage** - Demo metadata (production: blockchain)

2. Click **"Generate Share Link"**

3. Copy link### Installation

4. Send to doctor via secure channel

5. Doctor opens link (no wallet needed)### Encryption:

6. File automatically downloads and decrypts

- **WebCrypto API** - Browser-native encryption```powershell

### 4. View AI-Extracted Data

1. Click **"ğŸ¤– AI Data"** on prescription- **AES-256-GCM** - Symmetric encryption# Navigate to project

2. View extracted medicines, dosage, doctor info

3. Edit if needed- **PBKDF2** - Key derivation (future)cd C:\Users\barat\OneDrive\Desktop\Web3vault\webvault3

4. Data stored locally for quick reference



### 5. Delete File

1. Click **"Delete"** on file### AI/ML:# Install dependencies

2. Confirm deletion

3. File removed from:- **Google Gemini AI** - Vision API for OCRnpm install

   - localStorage

   - IPFS (unpinned)- **Natural Language Processing** - Medical entity extraction

   - Blockchain metadata

   - Access control list# Setup environment



------cp .env.example .env.local



## ğŸ”’ Privacy & Security# Edit .env.local with your API keys



### What We Protect## ğŸ”— Polkadot Integration

âœ… **Files encrypted client-side** - Server/IPFS never sees unencrypted data  

âœ… **Keys stored on blockchain** - Permanent backup, but requires wallet to access  # Run development server

âœ… **No central database** - No single point of failure  

âœ… **Wallet-based auth** - Only you can access your files  ### Current Implementation:npm run dev

âœ… **AES-256-GCM** - Military-grade encryption standard  

```

### What to Know

âš ï¸ **Share links contain keys** - Anyone with link can decrypt file  #### 1. **Wallet Connection**

âš ï¸ **Blockchain is public** - Metadata (filenames, CIDs) visible on-chain  

âš ï¸ **No password recovery** - Lose wallet = lose access (backup your wallet!)  ```typescriptVisit: **http://localhost:3000**

âš ï¸ **IPFS is permanent** - Deleted files may still exist on IPFS network  

// Polkadot.js extension integration

### Best Practices

1. **Backup your wallet** - Store seed phrase securelyconst { web3Accounts, web3Enable } = require('@polkadot/extension-dapp');### Running Blockchain (WSL)

2. **Share links carefully** - Use encrypted messaging to share

3. **Use strong passwords** - For Polkadot wallet

4. **Verify recipients** - Before sharing medical data

5. **Regular audits** - Review shared access periodically// Connect to wallet```bash



---await web3Enable('Web3Vault');# In WSL Ubuntu



## ğŸ› Troubleshootingconst accounts = await web3Accounts();cd /mnt/c/Users/barat/OneDrive/Desktop/Web3vault/web3vault-chain



### "Please install Polkadot.js extension"```./target/release/node-template --dev

- Install from [polkadot.js.org/extension](https://polkadot.js.org/extension/)

- Refresh page after installation```

- Create or import wallet

#### 2. **Identity Management**

### "Failed to upload to IPFS"

- Check Pinata API key in `.env.local`- User's Polkadot address = unique patient ID---

- Verify API key has pinning permissions

- Check file size (Pinata free tier: 1GB limit)- Wallet signature for authentication



### "Files not syncing across devices"- Transaction signing for blockchain operations## ğŸ¯ Core User Flows

- Ensure same wallet connected on both devices

- Wait 30-60 seconds for blockchain confirmation

- Check blockchain connection in browser console

#### 3. **Future Blockchain Integration**### 1. Patient Journey

### "AI OCR not working"

- Verify Gemini API key in `.env.local`- **Smart Contracts**: Access control logic1. Connect Polkadot wallet â†’ Create DID

- Check API quota (free tier: 60 requests/minute)

- Ensure image is clear and readable- **On-Chain Metadata**: File references, permissions2. Upload prescription/report



### "Download failed"- **Timestamping**: Immutable record creation proof3. AI extracts: medication, dosage, doctor

- Try again (IPFS gateway might be slow)

- System auto-retries with fallback gateways- **Cross-Chain**: Bridge to other parachains4. File encrypted & stored on IPFS

- Check browser console for detailed errors

5. Hash recorded on blockchain

---

### Polkadot Features Utilized:6. Access via dashboard

## ğŸš¢ Deployment



### Deploy to Railway

âœ… **Polkadot.js Extension** - Wallet connectivity  ### 2. Sharing with Doctor

1. Fork this repository

2. Sign up at [railway.app](https://railway.app)âœ… **Web3 Accounts** - Identity management  1. Select medical record

3. Create new project from GitHub repo

4. Add environment variables:ğŸ”„ **Substrate RPC** - Blockchain queries (in development)  2. Generate secure access token

   - `NEXT_PUBLIC_PINATA_JWT`

   - `NEXT_PUBLIC_GEMINI_API_KEY`ğŸ”„ **Ink! Smart Contracts** - Access control (planned)  3. Set expiry (24 hours / one-view)

5. Deploy automatically on push to main branch

ğŸ”„ **XCM** - Cross-chain medical data (roadmap)4. Share link with doctor

### Deploy to Vercel

5. Doctor views (logged on-chain)

```bash

vercel --prod### Why Polkadot?6. Revoke access anytime

```



Add environment variables in Vercel dashboard.

1. **ğŸ”— Interoperability**: Cross-chain medical data sharing### 3. Emergency Use

---

2. **âš¡ Scalability**: Parachain architecture handles growth1. Generate emergency QR

## ğŸ¤ Contributing

3. **ğŸ›¡ï¸ Security**: Shared security from relay chain2. Shows: Blood type, allergies, contacts

We welcome contributions! Please:

4. **ğŸŒ Decentralization**: True Web3 architecture3. First responder scans QR

1. Fork the repository

2. Create a feature branch (`git checkout -b feature/amazing-feature`)5. **ğŸš€ Innovation**: Cutting-edge blockchain technology4. View critical info instantly

3. Commit changes (`git commit -m 'Add amazing feature'`)

4. Push to branch (`git push origin feature/amazing-feature`)

5. Open Pull Request

------

---



## ğŸ“„ License

## ğŸ”’ Security## ğŸ—ï¸ Key Features Implementation

MIT License - see [LICENSE](LICENSE) file for details



---

### Encryption Details:### Medical OCR Pipeline

## ğŸ™ Acknowledgments

```javascript

- **Polkadot** - Blockchain infrastructure

- **IPFS & Pinata** - Decentralized storage**Algorithm**: AES-256-GCM (Galois/Counter Mode)Upload Image â†’ Tesseract OCR â†’ Extract Text 

- **Google Gemini** - AI-powered OCR

- **Web3 Community** - Open-source inspiration- **Key Size**: 256 bits (2^256 possible keys)â†’ GPT Medical Understanding â†’ Auto-categorize 



---- **IV Size**: 12 bytes (unique per file)â†’ Extract: Medications, Dosage, Doctor, Date



## ğŸ“ Contact- **Authentication**: Built-in tamper detection```



**Project**: [github.com/Barathvasan2003/web3vault](https://github.com/Barathvasan2003/web3vault)  - **Standard**: FIPS 140-2, HIPAA compliant

**Live Demo**: [web3vault-production.up.railway.app](https://web3vault-production.up.railway.app)  

**Developer**: Barathvasan### Encryption Flow



---### Security Flow:```javascript



## ğŸ¯ Future RoadmapFile â†’ AES-256-GCM (client-side) â†’ IPFS Upload 



- [ ] Smart contract key encryption```â†’ Get CID â†’ Store CID + Hash on Polkadot 

- [ ] Multi-signature access control

- [ ] NFT-based record transfers1. User uploads fileâ†’ Store encryption key (encrypted with wallet key)

- [ ] Decentralized identity (DID) integration

- [ ] Mobile app (React Native)   â†“```

- [ ] Emergency access with trusted contacts

- [ ] FHIR standard compliance2. Generate random 256-bit key

- [ ] Multi-language support

   â†“### Access Control

---

3. Generate random 12-byte IV```javascript

**Built with â¤ï¸ for Web3 Hackathons** | **Privacy-First** | **Fully Decentralized**

   â†“Share Request â†’ Generate JWT Token 

4. Encrypt file with AES-256-GCMâ†’ Record permission on-chain 

   â†“â†’ Token has: file_id, expiry, max_views 

5. Upload encrypted data to IPFSâ†’ Access logged as blockchain event 

   â†“â†’ Revoke = Update on-chain state

6. Store metadata on blockchain```

   â†“

7. Only user can decrypt (has key)---

```

## ğŸ” Security Features

### Privacy Guarantees:

âœ… **End-to-End Encryption** - Files encrypted before leaving device  

âœ… **Client-Side Encryption**: Files encrypted before leaving device  âœ… **Zero-Knowledge Storage** - IPFS stores encrypted blobs  

âœ… **Zero-Knowledge**: Server never sees unencrypted data  âœ… **Blockchain Audit Trail** - All access logged on-chain  

âœ… **Unique Keys**: Each file has its own encryption key  âœ… **Decentralized Identity** - No centralized user database  

âœ… **No Metadata Leakage**: Only CID exposed publicly  âœ… **Patient-Controlled** - Only you hold decryption keys  

âœ… **User-Controlled Access**: Only patient can grant permissionsâœ… **HIPAA Compliant Architecture** - Medical-grade security



------



## ğŸš€ Getting Started## ğŸ¬ Demo Video Script



### Prerequisites:1. **Problem** (30s)  

   - Medical records scattered (Drive, WhatsApp, physical)

- **Node.js** 18+ ([Download](https://nodejs.org/))   - Privacy concerns with centralized storage

- **npm** or **yarn**   - No patient control over access

- **Polkadot.js Browser Extension** ([Install](https://polkadot.js.org/extension/))

- **Git**2. **Solution** (45s)  

   - Login with wallet

### Installation:   - Upload prescription â†’ AI extracts info

   - Share with doctor (time-limited)

1. **Clone the repository:**   - Emergency QR card demo

```bash

git clone https://github.com/yourusername/web3vault.git3. **Tech Stack** (30s)  

cd web3vault/webvault3   - Polkadot blockchain

```   - IPFS + Crust storage

   - AI-powered OCR

2. **Install dependencies:**   - Zero-knowledge encryption

```bash

npm install4. **Impact** (15s)  

```   - Patient owns data

   - Secure, private, accessible

3. **Set up environment variables:**   - Life-saving in emergencies

```bash

cp .env.example .env.local---

```

## ğŸ† Why Judges Will Love This

Edit `.env.local`:

```env| Category | WebVault3 Coverage |

# Gemini AI (for prescription OCR)|----------|-------------------|

NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_api_key_here| **Blockchain Innovation** | Polkadot DID + Crust + Access Control |

| **Real-World Impact** | Solves actual healthcare pain point |

# IPFS Configuration| **AI Integration** | OCR + Medical NLP + GPT |

NEXT_PUBLIC_IPFS_HOST=ipfs.infura.io| **Security & Privacy** | E2E encryption + Zero-knowledge |

NEXT_PUBLIC_IPFS_PORT=5001| **Scalability** | Decentralized storage + Polkadot |

NEXT_PUBLIC_IPFS_PROTOCOL=https| **UX Excellence** | Patient-friendly, intuitive UI |

| **Technical Depth** | Smart contracts + AI + Web3 |

# Polkadot Configuration

NEXT_PUBLIC_POLKADOT_ENDPOINT=wss://rpc.polkadot.io---

```

## ğŸ“Š Roadmap

4. **Run development server:**

```bash### âœ… MVP (Hackathon)

npm run dev- [x] Wallet authentication

```- [x] File upload + encryption

- [x] IPFS storage

5. **Open in browser:**- [x] AI OCR

```- [x] Access sharing

http://localhost:3000- [x] Emergency card

```

### ğŸ”œ V2 (Post-Hackathon)

---- [ ] Mobile app (Flutter)

- [ ] Doctor dashboard

## ğŸ“– Usage Guide- [ ] Appointment booking

- [ ] Token incentives

### 1. **Connect Your Wallet**- [ ] Multi-chain support

- [ ] Telemedicine integration

1. Install [Polkadot.js Extension](https://polkadot.js.org/extension/)

2. Create or import a Polkadot account---

3. Visit Web3Vault application

4. Click "Connect Wallet"## ğŸ¤ Contributing

5. Select your account and approve connection

We welcome contributions! See [CONTRIBUTING.md](./CONTRIBUTING.md)

### 2. **Upload Medical Records**

---

1. Go to **ğŸ“¤ Upload** tab

2. Choose record type (Prescription, Lab Report, X-Ray, Medical Report)## ğŸ“„ License

3. Select file (PDF, PNG, JPG)

4. Click **Upload & Encrypt**MIT License - See [LICENSE](./LICENSE)

5. Wait for encryption + IPFS upload + AI extraction

---

### 3. **View & Manage Records**

## ğŸ™ Acknowledgments

1. Go to **ğŸ“‚ My Records** tab

2. See all uploaded files- **Polkadot** - Blockchain infrastructure

3. Click **ğŸ“¥ Download** to decrypt and save- **Crust Network** - Decentralized storage

4. Click **ğŸ”— Share** to create access link- **IPFS** - File system

5. Click **ğŸ—‘ï¸ Delete** to remove- **OpenAI** - AI capabilities

- **Tesseract** - OCR engine

### 4. **Share with Time-Based Access**

---

1. Click **ğŸ”— Share** on any file

2. Choose access type:## ğŸ“ Contact & Support

   - ğŸ”’ One-Time Access

   - â° 24 Hours- **Demo**: [webvault3.vercel.app](#)

   - ğŸ“… Custom Date Range- **Docs**: [docs.webvault3.dev](#)

   - â™¾ï¸ Permanent Access- **Discord**: [Join our community](#)

3. Copy CID or View Link- **Twitter**: [@WebVault3](#)

4. Share with healthcare provider

---

### 5. **Emergency Access**

<div align="center">

1. Go to **ğŸ†˜ Emergency** tab

2. View your emergency medical card**Built with â¤ï¸ for patients, powered by Web3**

3. Share emergency link with trusted contacts

ğŸ¥ **WebVault3** - Your health data, your control.

---

</div>

## ğŸ¥ Demo Video

ğŸ“¹ **Watch the Demo**: [Coming Soon]

**Duration**: 4-5 minutes

**What's Shown**:
1. Wallet connection
2. Upload and encrypt prescription
3. AI data extraction
4. Edit AI results
5. Share with time-based access
6. Download and decrypt
7. Emergency access feature

---

## ğŸ† Hackathon Submission

### Category: **User-Centric Apps**

### Why Web3Vault?

**1. Technological Implementation** â­â­â­â­â­
- Production-ready AES-256-GCM encryption
- Real Polkadot.js wallet integration
- IPFS decentralized storage
- AI-powered prescription OCR
- Clean TypeScript codebase

**2. Design & UX** â­â­â­â­â­
- Intuitive interface
- Smooth user flow
- Mobile-responsive
- Clear visual feedback

**3. Potential Impact** â­â­â­â­â­
- Solves healthcare privacy crisis
- 150M+ potential users
- Global application
- Empowers patients

**4. Creativity** â­â­â­â­â­
- Unique medical + Web3 combination
- AI-powered analysis
- Time-based sharing innovation
- Emergency access feature

### Real-World Use Cases:

1. **ğŸ‘¨â€âš•ï¸ Doctor Visits**: Share records with specialists
2. **ğŸš‘ Emergencies**: Instant first responder access
3. **ğŸ’Š Pharmacies**: Secure prescription verification
4. **ğŸ¥ Hospitals**: Complete medical history
5. **ğŸŒ Medical Tourism**: Cross-border record portability

---

## ğŸ—º Future Roadmap

### Phase 1: Enhanced Security (Q1 2026)
- [ ] Wallet-derived encryption keys
- [ ] Hardware wallet support
- [ ] Multi-signature access
- [ ] Key recovery mechanisms

### Phase 2: Blockchain Integration (Q2 2026)
- [ ] Deploy custom Substrate pallet
- [ ] On-chain metadata storage
- [ ] Smart contract access control
- [ ] Timestamping service

### Phase 3: Advanced Features (Q3 2026)
- [ ] Cross-chain data sharing (XCM)
- [ ] Healthcare provider portal
- [ ] Prescription verification
- [ ] Insurance automation

### Phase 4: Mobile & Scale (Q4 2026)
- [ ] React Native mobile app
- [ ] Biometric authentication
- [ ] Offline mode
- [ ] Crust Network integration

---

## ğŸ“œ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

---

## ğŸ‘¥ Team

**Built with â¤ï¸ for Polkadot Hackathon 2025**

- **Developer**: [Your Name]
- **Email**: [your.email@example.com]
- **GitHub**: [@yourusername](https://github.com/yourusername)

---

## ğŸ™ Acknowledgments

- **Polkadot & Web3 Foundation** - Hackathon and ecosystem
- **Parity Technologies** - Substrate and Polkadot.js
- **IPFS/Protocol Labs** - Decentralized storage
- **Google Gemini** - AI-powered OCR
- **Polkadot Community** - Support and feedback

---

<div align="center">

### ğŸŒŸ Star this repository if you find it helpful!

**Built for Polkadot Hackathon 2025**

**Deadline: November 18, 2025**

</div>
